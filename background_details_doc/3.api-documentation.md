# TechForum APIæ¥å£æ–‡æ¡£

## ğŸ“¡ æ¥å£æ¦‚è§ˆ

**Base URL**: `http://localhost:8080`  
**æ¥å£å‰ç¼€**: `/api`  
**è®¤è¯æ–¹å¼**: JWT Tokenï¼ˆæ”¾åœ¨è¯·æ±‚å¤´ `Authorization: Bearer <token>`ï¼‰  
**å“åº”æ ¼å¼**: JSON

---

## ğŸ“‹ ç»Ÿä¸€å“åº”æ ¼å¼

### æˆåŠŸå“åº”
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    // å…·ä½“æ•°æ®
  }
}
```

### å¤±è´¥å“åº”
```json
{
  "code": 1,
  "message": "é”™è¯¯ä¿¡æ¯",
  "data": null
}
```

### HTTPçŠ¶æ€ç 
- `200 OK` - è¯·æ±‚æˆåŠŸ
- `201 Created` - åˆ›å»ºæˆåŠŸ
- `204 No Content` - åˆ é™¤æˆåŠŸ
- `400 Bad Request` - å‚æ•°é”™è¯¯
- `401 Unauthorized` - æœªç™»å½•
- `403 Forbidden` - æƒé™ä¸è¶³
- `404 Not Found` - èµ„æºä¸å­˜åœ¨
- `409 Conflict` - èµ„æºå†²çªï¼ˆå¦‚ç”¨æˆ·åå·²å­˜åœ¨ï¼‰
- `500 Internal Server Error` - æœåŠ¡å™¨é”™è¯¯

---

## 1ï¸âƒ£ ç”¨æˆ·è®¤è¯æ¨¡å—

### 1.1 ç”¨æˆ·æ³¨å†Œ

**æ¥å£**: `POST /api/auth/register`  
**æƒé™**: å…¬å¼€  
**è¯´æ˜**: æ³¨å†Œæ–°ç”¨æˆ·

**è¯·æ±‚å‚æ•°**:
```json
{
  "username": "testuser",
  "password": "123456",
  "email": "test@example.com"
}
```

**å‚æ•°æ ¡éªŒ**:
- username: 3-20å­—ç¬¦ï¼Œåªå…è®¸å­—æ¯æ•°å­—ä¸‹åˆ’çº¿
- password: 6-20å­—ç¬¦
- email: åˆæ³•çš„é‚®ç®±æ ¼å¼

**æˆåŠŸå“åº”** (201):
```json
{
  "code": 0,
  "message": "æ³¨å†ŒæˆåŠŸ",
  "data": null
}
```

**å¤±è´¥å“åº”** (409):
```json
{
  "code": 1,
  "message": "ç”¨æˆ·åå·²è¢«å ç”¨",
  "data": null
}
```

---

### 1.2 ç”¨æˆ·ç™»å½•

**æ¥å£**: `POST /api/auth/login`  
**æƒé™**: å…¬å¼€  
**è¯´æ˜**: ç”¨æˆ·ç™»å½•ï¼Œè¿”å›JWT Token

**è¯·æ±‚å‚æ•°**:
```json
{
  "usernameOrEmail": "testuser",
  "password": "123456"
}
```

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "username": "testuser",
    "jwtToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }
}
```

**å¤±è´¥å“åº”** (401):
```json
{
  "code": 1,
  "message": "ç”¨æˆ·å/é‚®ç®±æœªæ³¨å†Œ",
  "data": null
}
```

---

### 1.3 è·å–ç”¨æˆ·ä¿¡æ¯

**æ¥å£**: `GET /api/users/{id}`  
**æƒé™**: å…¬å¼€  
**è¯´æ˜**: æŸ¥çœ‹ç”¨æˆ·å…¬å¼€èµ„æ–™

**è·¯å¾„å‚æ•°**:
- `id`: ç”¨æˆ·ID

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "id": 1,
    "username": "testuser",
    "avatarUrl": "/avatars/1.jpg",
    "gender": 1,
    "bio": "çƒ­çˆ±ç¼–ç¨‹çš„æŠ€æœ¯å®…",
    "location": "åŒ—äº¬",
    "level": 5,
    "points": 1234,
    "createTime": "2024-01-01 10:00:00"
  }
}
```

---

### 1.4 ä¿®æ”¹ç”¨æˆ·èµ„æ–™

**æ¥å£**: `PUT /api/users/{id}`  
**æƒé™**: æœ¬äºº  
**è¯´æ˜**: ä¿®æ”¹ä¸ªäººèµ„æ–™

**è¯·æ±‚å¤´**:

```
Authorization: Bearer <token>
```

**è¯·æ±‚å‚æ•°**:

```json
{
  "bio": "æ–°çš„ä¸ªäººç®€ä»‹",
  "gender": 1,
  "location": "ä¸Šæµ·"
}
```

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "ä¿®æ”¹æˆåŠŸ",
  "data": null
}
```

---

### 1.5 ä¸Šä¼ å¤´åƒ

**æ¥å£**: `POST /api/users/avatar`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: ä¸Šä¼ ç”¨æˆ·å¤´åƒ

**è¯·æ±‚ç±»å‹**: `multipart/form-data`

**è¯·æ±‚å‚æ•°**:

- `file`: å›¾ç‰‡æ–‡ä»¶ï¼ˆæœ€å¤§5MBï¼Œæ”¯æŒjpg/png/gifï¼‰

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "ä¸Šä¼ æˆåŠŸ",
  "data": "http://localhost:9000/forum-images/avatar_123456.jpg"
}
```

---

### 1.6 ä¿®æ”¹å¯†ç 

**æ¥å£**: `PUT /api/users/password`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: ä¿®æ”¹å½“å‰ç”¨æˆ·å¯†ç 

**è¯·æ±‚å‚æ•°**:

```json
{
  "oldPassword": "123456",
  "newPassword": "654321"
}
```

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "å¯†ç ä¿®æ”¹æˆåŠŸï¼Œè¯·é‡æ–°ç™»å½•",
  "data": null
}
```

---

## 2ï¸âƒ£ å¸–å­æ¨¡å—

### 2.1 è·å–å¸–å­åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰

**æ¥å£**: `GET /api/posts`  
**æƒé™**: å…¬å¼€  
**è¯´æ˜**: åˆ†é¡µè·å–å¸–å­åˆ—è¡¨

**æŸ¥è¯¢å‚æ•°**:
- `page`: é¡µç ï¼Œé»˜è®¤1
- `size`: æ¯é¡µæ•°é‡ï¼Œé»˜è®¤20ï¼Œæœ€å¤§100
- `categoryId`: åˆ†åŒºIDï¼ˆå¯é€‰ï¼‰
- `orderBy`: æ’åºæ–¹å¼ï¼Œå¯é€‰å€¼: `new`(æœ€æ–°)ã€`hot`(æœ€çƒ­)ã€`view`(æµè§ˆé‡)ï¼Œé»˜è®¤`new`

**è¯·æ±‚ç¤ºä¾‹**:
```
GET /api/posts?page=1&size=20&categoryId=1&orderBy=hot
```

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "id": 1,
      "userId": 10,
      "username": "ä½œè€…å",
      "avatarUrl": "/avatars/10.jpg",
      "categoryId": 1,
      "categoryName": "æŠ€æœ¯åˆ†äº«",
      "title": "å¦‚ä½•å­¦ä¹ Spring Boot",
      "content": "Markdownå†…å®¹...",
      "coverImage": "/images/cover1.jpg",
      "viewCount": 1234,
      "likeCount": 89,
      "collectCount": 45,
      "commentCount": 23,
      "isPinned": false,
      "isEssence": true,
      "createTime": "2024-01-15 10:00:00",
      "updateTime": "2024-01-15 15:30:00"
    }
  ]
}
```

---

### 2.2 è·å–å¸–å­è¯¦æƒ…

**æ¥å£**: `GET /api/posts/{id}`  
**æƒé™**: å…¬å¼€  
**è¯´æ˜**: æŸ¥çœ‹å•ä¸ªå¸–å­è¯¦æƒ…

**è·¯å¾„å‚æ•°**:
- `id`: å¸–å­ID

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "id": 1,
    "userId": 10,
    "username": "ä½œè€…å",
    "avatarUrl": "/avatars/10.jpg",
    "categoryId": 1,
    "categoryName": "æŠ€æœ¯åˆ†äº«",
    "title": "å¦‚ä½•å­¦ä¹ Spring Boot",
    "content": "å®Œæ•´çš„Markdownå†…å®¹...",
    "coverImage": "/images/cover1.jpg",
    "viewCount": 1235,
    "likeCount": 89,
    "collectCount": 45,
    "commentCount": 23,
    "isPinned": false,
    "isEssence": true,
    "isLiked": false,
    "isCollected": false,
    "createTime": "2024-01-15 10:00:00",
    "updateTime": "2024-01-15 15:30:00"
  }
}
```

**æ³¨æ„**: `isLiked`å’Œ`isCollected`éœ€è¦ç™»å½•åæ‰è¿”å›å½“å‰ç”¨æˆ·çš„çŠ¶æ€

---

### 2.3 å‘å¸ƒå¸–å­

**æ¥å£**: `POST /api/posts`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: å‘å¸ƒæ–°å¸–å­

**è¯·æ±‚å‚æ•°**:
```json
{
  "categoryId": 1,
  "title": "æˆ‘çš„ç¬¬ä¸€ç¯‡å¸–å­",
  "content": "# æ ‡é¢˜\nè¿™æ˜¯Markdownå†…å®¹...",
  "coverImage": "/images/cover.jpg",
  "status": 1
}
```

**å‚æ•°è¯´æ˜**:
- `status`: 0è‰ç¨¿ï¼Œ1å‘å¸ƒï¼ˆå¯é€‰ï¼Œé»˜è®¤1ï¼‰
- `coverImage`: å¯é€‰ï¼Œå°é¢å›¾URL

**æˆåŠŸå“åº”** (201):
```json
{
  "code": 0,
  "message": "å‘å¸ƒæˆåŠŸ",
  "data": {
    "id": 100,
    "title": "æˆ‘çš„ç¬¬ä¸€ç¯‡å¸–å­",
    "createTime": "2024-01-15 16:00:00"
  }
}
```

---

### 2.4 ç¼–è¾‘å¸–å­

**æ¥å£**: `PATCH /api/posts/{id}`  //å»ºè®®ç”¨PUTï¼Œç„¶åMybatis-Plusé‡Œä¼šupdateByIdåªæ›´æ–°éç©ºå­—æ®µ
**æƒé™**: ä½œè€…æœ¬äºº  
**è¯´æ˜**: ä¿®æ”¹å¸–å­å†…å®¹

**è¯·æ±‚å‚æ•°**:
```json
{
  "title": "ä¿®æ”¹åçš„æ ‡é¢˜",
  "content": "ä¿®æ”¹åçš„å†…å®¹...",
  "categoryId": 2
}
```

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "id": 100,
    "title": "ä¿®æ”¹åçš„æ ‡é¢˜",
    "updateTime": "2024-01-15 17:00:00"
  }
}
```

---

### 2.5 åˆ é™¤å¸–å­

**æ¥å£**: `DELETE /api/posts/{id}`  
**æƒé™**: ä½œè€…æœ¬äººæˆ–ç®¡ç†å‘˜  
**è¯´æ˜**: åˆ é™¤å¸–å­ï¼ˆè½¯åˆ é™¤ï¼‰

**æˆåŠŸå“åº”** (204):
```
æ— å“åº”ä½“
```

---

### 2.6 ç‚¹èµå¸–å­

**æ¥å£**: `POST /api/posts/{id}/like`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: ç‚¹èµå¸–å­

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "ç‚¹èµæˆåŠŸ",
  "data": {
    "likeCount": 90
  }
}
```

---

### 2.7 å–æ¶ˆç‚¹èµ

**æ¥å£**: `DELETE /api/posts/{id}/like`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: å–æ¶ˆç‚¹èµ

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "å·²å–æ¶ˆç‚¹èµ",
  "data": {
    "likeCount": 89
  }
}
```

---

### 2.8 æ”¶è—å¸–å­

**æ¥å£**: `POST /api/posts/{id}/collect`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: æ”¶è—å¸–å­

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ”¶è—æˆåŠŸ",
  "data": null
}
```

---

### 2.9 å–æ¶ˆæ”¶è—

**æ¥å£**: `DELETE /api/posts/{id}/collect`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: å–æ¶ˆæ”¶è—

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "å·²å–æ¶ˆæ”¶è—",
  "data": null
}
```

---

### 2.10 æœç´¢å¸–å­

**æ¥å£**: `GET /api/posts/search`  
**æƒé™**: å…¬å¼€  
**è¯´æ˜**: å…¨æ–‡æœç´¢å¸–å­

**æŸ¥è¯¢å‚æ•°**:
- `keyword`: æœç´¢å…³é”®è¯
- `categoryId`: åˆ†åŒºIDï¼ˆå¯é€‰ï¼‰
- `page`: é¡µç 
- `size`: æ¯é¡µæ•°é‡

**è¯·æ±‚ç¤ºä¾‹**:
```
GET /api/posts/search?keyword=Spring&categoryId=1&page=1&size=20
```

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    // å¸–å­åˆ—è¡¨ï¼Œæ ¼å¼åŒ2.1
  ]
}
```

---

## 3ï¸âƒ£ è¯„è®ºæ¨¡å—

### 3.1 è·å–å¸–å­çš„è¯„è®ºåˆ—è¡¨

**æ¥å£**: `GET /api/posts/{postId}/comments`  
**æƒé™**: å…¬å¼€  
**è¯´æ˜**: è·å–æŸä¸ªå¸–å­çš„è¯„è®º

**æŸ¥è¯¢å‚æ•°**:
- `page`: é¡µç ï¼Œé»˜è®¤1
- `size`: æ¯é¡µæ•°é‡ï¼Œé»˜è®¤10
- `orderBy`: æ’åºæ–¹å¼ï¼Œ`new`(æœ€æ–°) æˆ– `hot`(æœ€çƒ­)ï¼Œé»˜è®¤`new`

**è¯·æ±‚ç¤ºä¾‹**:
```
GET /api/posts/1/comments?page=1&size=10&orderBy=new
```

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "id": 100,
      "postId": 1,
      "userId": 20,
      "username": "è¯„è®ºè€…",
      "avatarUrl": "/avatars/20.jpg",
      "parentId": null,
      "replyToUserId": null,
      "replyToUsername": null,
      "content": "è¿™ç¯‡æ–‡ç« å†™å¾—å¾ˆå¥½ï¼",
      "likeCount": 5,
      "isLiked": false,
      "ipAddress": "åŒ—äº¬",
      "createTime": "2024-01-15 11:00:00",
      "replies": [
        {
          "id": 101,
          "postId": 1,
          "userId": 21,
          "username": "å›å¤è€…",
          "avatarUrl": "/avatars/21.jpg",
          "parentId": 100,
          "replyToUserId": 20,
          "replyToUsername": "è¯„è®ºè€…",
          "content": "@è¯„è®ºè€… ç¡®å®ä¸é”™",
          "likeCount": 2,
          "isLiked": false,
          "ipAddress": "ä¸Šæµ·",
          "createTime": "2024-01-15 11:05:00",
          "replies": []
        }
      ]
    }
  ]
}
```

---

### 3.2 å‘è¡¨è¯„è®º

**æ¥å£**: `POST /api/posts/{postId}/comments`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: å¯¹å¸–å­å‘è¡¨ä¸€çº§è¯„è®º

**è¯·æ±‚å‚æ•°**:
```json
{
  "content": "è¿™æ˜¯æˆ‘çš„è¯„è®ºå†…å®¹"
}
```

**æˆåŠŸå“åº”** (201):
```json
{
  "code": 0,
  "message": "è¯„è®ºæˆåŠŸ",
  "data": {
    "id": 102,
    "content": "è¿™æ˜¯æˆ‘çš„è¯„è®ºå†…å®¹",
    "createTime": "2024-01-15 12:00:00"
  }
}
```

---

### 3.3 å›å¤è¯„è®º

**æ¥å£**: `POST /api/comments/{commentId}/reply`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: å›å¤æŸæ¡è¯„è®ºï¼ˆæ¥¼ä¸­æ¥¼ï¼‰

**è¯·æ±‚å‚æ•°**:
```json
{
  "content": "@æŸäºº è¿™æ˜¯å›å¤å†…å®¹",
  "replyToUserId": 20
}
```

**æˆåŠŸå“åº”** (201):
```json
{
  "code": 0,
  "message": "å›å¤æˆåŠŸ",
  "data": {
    "id": 103,
    "parentId": 100,
    "content": "@æŸäºº è¿™æ˜¯å›å¤å†…å®¹",
    "createTime": "2024-01-15 12:05:00"
  }
}
```

---

### 3.4 åˆ é™¤è¯„è®º

**æ¥å£**: `DELETE /api/comments/{id}`  
**æƒé™**: è¯„è®ºä½œè€…æˆ–ç®¡ç†å‘˜  
**è¯´æ˜**: åˆ é™¤è¯„è®ºï¼ˆè½¯åˆ é™¤ï¼‰

**æˆåŠŸå“åº”** (204):
```
æ— å“åº”ä½“
```

---

### 3.5 ç‚¹èµè¯„è®º

**æ¥å£**: `POST /api/comments/{id}/like`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: ç‚¹èµè¯„è®º

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "ç‚¹èµæˆåŠŸ",
  "data": {
    "likeCount": 6
  }
}
```

---

## 4ï¸âƒ£ åˆ†åŒºæ¨¡å—

### 4.1 è·å–æ‰€æœ‰åˆ†åŒº

**æ¥å£**: `GET /api/categories`  
**æƒé™**: å…¬å¼€  
**è¯´æ˜**: è·å–æ‰€æœ‰åˆ†åŒºåˆ—è¡¨

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "id": 1,
      "name": "æŠ€æœ¯åˆ†äº«",
      "description": "ç¼–ç¨‹æŠ€æœ¯ã€ç®—æ³•ã€æ¶æ„è®¾è®¡ç­‰æŠ€æœ¯è®¨è®º",
      "icon": "/icons/tech.svg",
      "postCount": 1234,
      "sortOrder": 100,
      "isActive": true
    }
  ]
}
```

---

## 5ï¸âƒ£ ä¸ªäººä¸­å¿ƒæ¨¡å—

### 5.1 æˆ‘çš„å¸–å­

**æ¥å£**: `GET /api/users/{id}/posts`  
**æƒé™**: å…¬å¼€  
**è¯´æ˜**: è·å–æŸä¸ªç”¨æˆ·çš„æ‰€æœ‰å¸–å­

**æŸ¥è¯¢å‚æ•°**:
- `page`: é¡µç 
- `size`: æ¯é¡µæ•°é‡
- `status`: å¸–å­çŠ¶æ€ï¼ˆå¯é€‰ï¼Œæœ¬äººæ‰èƒ½çœ‹åˆ°è‰ç¨¿ï¼‰

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    // å¸–å­åˆ—è¡¨
  ]
}
```

---

### 5.2 æˆ‘çš„æ”¶è—

**æ¥å£**: `GET /api/users/{id}/collects`  
**æƒé™**: æœ¬äºº  
**è¯´æ˜**: è·å–æˆ‘çš„æ”¶è—åˆ—è¡¨

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "id": 1,
      "post": {
        // å¸–å­ä¿¡æ¯
      },
      "collectTime": "2024-01-15 10:00:00"
    }
  ]
}
```

---

### 5.3 æˆ‘çš„å…³æ³¨

**æ¥å£**: `GET /api/users/{id}/following`  
**æƒé™**: å…¬å¼€  
**è¯´æ˜**: è·å–å…³æ³¨åˆ—è¡¨

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "id": 10,
      "username": "å…³æ³¨çš„ç”¨æˆ·",
      "avatarUrl": "/avatars/10.jpg",
      "bio": "ä¸ªäººç®€ä»‹",
      "followTime": "2024-01-10 09:00:00"
    }
  ]
}
```

---

### 5.4 æˆ‘çš„ç²‰ä¸

**æ¥å£**: `GET /api/users/{id}/followers`  
**æƒé™**: å…¬å¼€  
**è¯´æ˜**: è·å–ç²‰ä¸åˆ—è¡¨

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    // ç²‰ä¸åˆ—è¡¨ï¼Œæ ¼å¼åŒ5.3
  ]
}
```

---

### 5.5 å…³æ³¨ç”¨æˆ·

**æ¥å£**: `POST /api/users/{id}/follow`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: å…³æ³¨æŸä¸ªç”¨æˆ·

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "å…³æ³¨æˆåŠŸ",
  "data": null
}
```

---

### 5.6 å–æ¶ˆå…³æ³¨

**æ¥å£**: `DELETE /api/users/{id}/follow`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: å–æ¶ˆå…³æ³¨

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "å·²å–æ¶ˆå…³æ³¨",
  "data": null
}
```

---

### 5.7 æµè§ˆå†å²

**æ¥å£**: `GET /api/users/history`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: è·å–æˆ‘çš„æµè§ˆå†å²

**æŸ¥è¯¢å‚æ•°**:
- `page`: é¡µç 
- `size`: æ¯é¡µæ•°é‡

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "post": {
        // å¸–å­ä¿¡æ¯
      },
      "viewTime": "2024-01-15 14:30:00"
    }
  ]
}
```

---

## 6ï¸âƒ£ é€šçŸ¥æ¨¡å—

### 6.1 è·å–é€šçŸ¥åˆ—è¡¨

**æ¥å£**: `GET /api/notifications`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: è·å–æˆ‘çš„é€šçŸ¥åˆ—è¡¨

**æŸ¥è¯¢å‚æ•°**:
- `unreadOnly`: æ˜¯å¦åªçœ‹æœªè¯»ï¼Œé»˜è®¤false
- `type`: é€šçŸ¥ç±»å‹ï¼ˆå¯é€‰ï¼‰
- `page`: é¡µç 
- `size`: æ¯é¡µæ•°é‡

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "id": 100,
      "type": 1,
      "title": "å¼ ä¸‰ç‚¹èµäº†ä½ çš„å¸–å­",
      "content": "å¦‚ä½•å­¦ä¹ Spring Boot",
      "relatedId": 10,
      "senderId": 20,
      "senderName": "å¼ ä¸‰",
      "senderAvatar": "/avatars/20.jpg",
      "isRead": false,
      "createTime": "2024-01-15 10:00:00"
    }
  ]
}
```

---

### 6.2 æ ‡è®°å·²è¯»

**æ¥å£**: `PUT /api/notifications/{id}/read`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: æ ‡è®°æŸæ¡é€šçŸ¥ä¸ºå·²è¯»

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": null
}
```

---

### 6.3 å…¨éƒ¨æ ‡è®°å·²è¯»

**æ¥å£**: `PUT /api/notifications/read-all`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: æ ‡è®°æ‰€æœ‰é€šçŸ¥ä¸ºå·²è¯»

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": null
}
```

---

### 6.4 æœªè¯»é€šçŸ¥æ•°é‡

**æ¥å£**: `GET /api/notifications/unread-count`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: è·å–æœªè¯»é€šçŸ¥æ•°é‡

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "count": 5
  }
}
```

---

## 7ï¸âƒ£ ç§ä¿¡æ¨¡å—

### 7.1 è·å–ä¼šè¯åˆ—è¡¨

**æ¥å£**: `GET /api/messages/conversations`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: è·å–æ‰€æœ‰ç§ä¿¡ä¼šè¯

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "userId": 10,
      "username": "å¼ ä¸‰",
      "avatarUrl": "/avatars/10.jpg",
      "lastMessage": "æœ€åä¸€æ¡æ¶ˆæ¯å†…å®¹",
      "unreadCount": 3,
      "lastMessageTime": "2024-01-15 10:00:00"
    }
  ]
}
```

---

### 7.2 è·å–ä¸æŸäººçš„èŠå¤©è®°å½•

**æ¥å£**: `GET /api/messages/{userId}`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: è·å–ä¸æŒ‡å®šç”¨æˆ·çš„èŠå¤©è®°å½•

**æŸ¥è¯¢å‚æ•°**:
- `page`: é¡µç 
- `size`: æ¯é¡µæ•°é‡

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "id": 100,
      "senderId": 1,
      "receiverId": 10,
      "content": "ä½ å¥½",
      "isRead": true,
      "createTime": "2024-01-15 09:00:00"
    }
  ]
}
```

---

### 7.3 å‘é€ç§ä¿¡

**æ¥å£**: `POST /api/messages/{userId}`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: ç»™æŒ‡å®šç”¨æˆ·å‘é€ç§ä¿¡

**è¯·æ±‚å‚æ•°**:
```json
{
  "content": "ç§ä¿¡å†…å®¹"
}
```

**æˆåŠŸå“åº”** (201):
```json
{
  "code": 0,
  "message": "å‘é€æˆåŠŸ",
  "data": {
    "id": 101,
    "createTime": "2024-01-15 10:00:00"
  }
}
```

---

## 8ï¸âƒ£ æ–‡ä»¶ä¸Šä¼ æ¨¡å—

### 8.1 ä¸Šä¼ å›¾ç‰‡

**æ¥å£**: `POST /api/upload/image`  
**æƒé™**: ç™»å½•ç”¨æˆ·  
**è¯´æ˜**: ä¸Šä¼ å›¾ç‰‡ï¼ˆç”¨äºå¸–å­å†…å®¹ã€è¯„è®ºç­‰ï¼‰

**è¯·æ±‚ç±»å‹**: `multipart/form-data`

**è¯·æ±‚å‚æ•°**:
- `file`: å›¾ç‰‡æ–‡ä»¶

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "ä¸Šä¼ æˆåŠŸ",
  "data": {
    "url": "http://localhost:9000/forum-images/post_123456.jpg",
    "filename": "post_123456.jpg"
  }
}
```

---

## 9ï¸âƒ£ ç®¡ç†åå°æ¨¡å—

### 9.1 å¾…å®¡æ ¸å¸–å­åˆ—è¡¨

**æ¥å£**: `GET /api/admin/posts`  
**æƒé™**: ç®¡ç†å‘˜  
**è¯´æ˜**: è·å–æ‰€æœ‰å¾…å®¡æ ¸çš„å¸–å­

**æŸ¥è¯¢å‚æ•°**:
- `status`: å¸–å­çŠ¶æ€ï¼ˆ1å¾…å®¡æ ¸ï¼‰
- `page`: é¡µç 
- `size`: æ¯é¡µæ•°é‡

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    // å¸–å­åˆ—è¡¨
  ]
}
```

---

### 9.2 å®¡æ ¸å¸–å­

**æ¥å£**: `PUT /api/admin/posts/{id}/review`  
**æƒé™**: ç®¡ç†å‘˜  
**è¯´æ˜**: å®¡æ ¸å¸–å­ï¼ˆé€šè¿‡/æ‹’ç»ï¼‰

**è¯·æ±‚å‚æ•°**:
```json
{
  "approved": true,
  "reason": "å†…å®¹ä¸ç¬¦åˆè§„èŒƒ"
}
```

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "å®¡æ ¸å®Œæˆ",
  "data": null
}
```

---

### 9.3 ä¸¾æŠ¥åˆ—è¡¨

**æ¥å£**: `GET /api/admin/reports`  
**æƒé™**: ç®¡ç†å‘˜  
**è¯´æ˜**: è·å–æ‰€æœ‰ä¸¾æŠ¥è®°å½•

**æŸ¥è¯¢å‚æ•°**:
- `status`: å¤„ç†çŠ¶æ€ï¼ˆ0å¾…å¤„ç†ï¼Œ1å·²å¤„ç†ï¼Œ2å·²é©³å›ï¼‰
- `page`: é¡µç 
- `size`: æ¯é¡µæ•°é‡

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "id": 10,
      "reporterId": 1,
      "reporterName": "ä¸¾æŠ¥äºº",
      "targetId": 100,
      "targetType": 1,
      "reason": "ä¸¾æŠ¥åŸå› ",
      "status": 0,
      "createTime": "2024-01-15 10:00:00"
    }
  ]
}
```

---

### 9.4 å¤„ç†ä¸¾æŠ¥

**æ¥å£**: `PUT /api/admin/reports/{id}`  
**æƒé™**: ç®¡ç†å‘˜  
**è¯´æ˜**: å¤„ç†ä¸¾æŠ¥

**è¯·æ±‚å‚æ•°**:
```json
{
  "status": 1,
  "handleResult": "å¤„ç†ç»“æœè¯´æ˜"
}
```

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "å¤„ç†å®Œæˆ",
  "data": null
}
```

---

### 9.5 å°ç¦ç”¨æˆ·

**æ¥å£**: `PUT /api/admin/users/{id}/ban`  
**æƒé™**: ç®¡ç†å‘˜  
**è¯´æ˜**: å°ç¦ç”¨æˆ·

**è¯·æ±‚å‚æ•°**:
```json
{
  "days": 7,
  "reason": "è¿åç¤¾åŒºè§„å®š"
}
```

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "å°ç¦æˆåŠŸ",
  "data": null
}
```

---

### 9.6 è§£å°ç”¨æˆ·

**æ¥å£**: `PUT /api/admin/users/{id}/unban`  
**æƒé™**: ç®¡ç†å‘˜  
**è¯´æ˜**: è§£å°ç”¨æˆ·

**æˆåŠŸå“åº”** (200):
```json
{
  "code": 0,
  "message": "è§£å°æˆåŠŸ",
  "data": null
}
```

---

### 9.7 ç®¡ç†åˆ†åŒº

**æ¥å£**: POST /api/admin/categories
**æƒé™**: ç®¡ç†å‘˜  
**è¯´æ˜**: åˆ›å»ºæ–°åˆ†åŒº

**è¯·æ±‚å‚æ•°**:

```json
{
  "name": "æ–°åˆ†åŒº",
  "description": "åˆ†åŒºæè¿°",
  "sortOrder": 50
}
```

**æˆåŠŸå“åº”** (201):
```json
{
  "code": 0,
  "message": "åˆ›å»ºæˆåŠŸ",
  "data": {
    "id": 10,
    "name": "æ–°åˆ†åŒº"
  }
}
```

---

### 9.8 ç®¡ç†è·å–åˆ†åŒº

**æ¥å£**: GET /api/admin/categories?{page}&{pageSize}
**æƒé™**: ç®¡ç†å‘˜  
**è¯´æ˜**: è·å–åˆ†åŒºåˆ—è¡¨åŒ…æ‹¬ç¦ç”¨åˆ†åŒº

**è¯·æ±‚å‚æ•°**:

```json
Params:
```

**æˆåŠŸå“åº”** (201):
```json
{
  "code": 0,
  "message": "åˆ›å»ºæˆåŠŸ",
  "data": {
    "id": 10,
    "name": "æ–°åˆ†åŒº"
  }
}
```

---

## ğŸ” JWTè®¤è¯è¯´æ˜

### Tokenæ ¼å¼
```
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Tokenæœ‰æ•ˆæœŸ
- 10å°æ—¶ï¼ˆ600åˆ†é’Ÿï¼‰

### Tokenåˆ·æ–°
- å‰ç«¯æ£€æµ‹åˆ°401é”™è¯¯æ—¶ï¼Œå¼•å¯¼ç”¨æˆ·é‡æ–°ç™»å½•
- ï¼ˆå¯é€‰ï¼‰å®ç°refresh tokenæœºåˆ¶

---

## ğŸ“ æ¥å£å®ç°ä¼˜å…ˆçº§

### P0 - æœ€é«˜ä¼˜å…ˆçº§ï¼ˆç¬¬1-2å‘¨ï¼‰
- [x] ç”¨æˆ·æ³¨å†Œ/ç™»å½•
- [x] å¸–å­å¢åˆ æ”¹æŸ¥
- [x] è¯„è®ºå¢åˆ æŸ¥
- [ ] åˆ†åŒºç®¡ç†åŸºç¡€åŠŸèƒ½

### P1 - é«˜ä¼˜å…ˆçº§ï¼ˆç¬¬3-4å‘¨ï¼‰
- [ ] å›¾ç‰‡ä¸Šä¼ 
- [ ] ç‚¹èµ/æ”¶è—åŠŸèƒ½
- [ ] å…³æ³¨åŠŸèƒ½
- [ ] æµè§ˆé‡ç»Ÿè®¡

### P2 - ä¸­ä¼˜å…ˆçº§ï¼ˆç¬¬5-6å‘¨ï¼‰
- [ ] é€šçŸ¥ç³»ç»Ÿ
- [ ] ç§ä¿¡åŠŸèƒ½
- [ ] æœç´¢åŠŸèƒ½
- [ ] æµè§ˆå†å²

### P3 - ä½ä¼˜å…ˆçº§ï¼ˆç¬¬7-8å‘¨ï¼‰
- [ ] ç®¡ç†åå°åŠŸèƒ½
- [ ] ä¸¾æŠ¥å®¡æ ¸
- [ ] ç”¨æˆ·å°ç¦
- [ ] ç”¨æˆ·æ³¨é”€åŠŸèƒ½
- [ ] æ•°æ®ç»Ÿè®¡

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2025-01-15